function cov_1r1b200v73(){var path="C:\\Users\\Acer\\Desktop\\node Tutorial\\auth\\controllers\\errohandler.js";var hash="9a7f7de9ad2e9e4137b2ac97fb6f4c7f1a7afc11";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Acer\\Desktop\\node Tutorial\\auth\\controllers\\errohandler.js",statementMap:{"0":{start:{line:2,column:21},end:{line:44,column:3}},"1":{start:{line:3,column:4},end:{line:3,column:39}},"2":{start:{line:4,column:17},end:{line:6,column:7}},"3":{start:{line:9,column:4},end:{line:11,column:5}},"4":{start:{line:10,column:6},end:{line:10,column:54}},"5":{start:{line:14,column:4},end:{line:16,column:5}},"6":{start:{line:15,column:6},end:{line:15,column:53}},"7":{start:{line:19,column:4},end:{line:22,column:5}},"8":{start:{line:20,column:6},end:{line:20,column:58}},"9":{start:{line:21,column:6},end:{line:21,column:20}},"10":{start:{line:25,column:4},end:{line:33,column:5}},"11":{start:{line:28,column:6},end:{line:32,column:9}},"12":{start:{line:31,column:8},end:{line:31,column:53}},"13":{start:{line:34,column:4},end:{line:42,column:5}},"14":{start:{line:37,column:6},end:{line:41,column:9}},"15":{start:{line:40,column:8},end:{line:40,column:53}},"16":{start:{line:43,column:4},end:{line:43,column:18}},"17":{start:{line:46,column:0},end:{line:46,column:29}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:21},end:{line:2,column:22}},loc:{start:{line:2,column:30},end:{line:44,column:3}},line:2},"1":{name:"(anonymous_1)",decl:{start:{line:28,column:40},end:{line:28,column:41}},loc:{start:{line:28,column:60},end:{line:32,column:7}},line:28},"2":{name:"(anonymous_2)",decl:{start:{line:37,column:40},end:{line:37,column:41}},loc:{start:{line:37,column:60},end:{line:41,column:7}},line:37}},branchMap:{"0":{loc:{start:{line:9,column:4},end:{line:11,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:11,column:5}},{start:{line:9,column:4},end:{line:11,column:5}}],line:9},"1":{loc:{start:{line:14,column:4},end:{line:16,column:5}},type:"if",locations:[{start:{line:14,column:4},end:{line:16,column:5}},{start:{line:14,column:4},end:{line:16,column:5}}],line:14},"2":{loc:{start:{line:19,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:22,column:5}},{start:{line:19,column:4},end:{line:22,column:5}}],line:19},"3":{loc:{start:{line:25,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:33,column:5}},{start:{line:25,column:4},end:{line:33,column:5}}],line:25},"4":{loc:{start:{line:34,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:42,column:5}},{start:{line:34,column:4},end:{line:42,column:5}}],line:34}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9a7f7de9ad2e9e4137b2ac97fb6f4c7f1a7afc11"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1r1b200v73=function(){return actualCoverage;};}return actualCoverage;}cov_1r1b200v73();cov_1r1b200v73().s[0]++;const handleErrors=err=>{cov_1r1b200v73().f[0]++;cov_1r1b200v73().s[1]++;console.log(err.message,err.code);let errors=(cov_1r1b200v73().s[2]++,{status:400});// incorrect email
cov_1r1b200v73().s[3]++;if(err.message==='incorrect email'){cov_1r1b200v73().b[0][0]++;cov_1r1b200v73().s[4]++;errors.message='That email is not registered';}else{cov_1r1b200v73().b[0][1]++;}// incorrect password
cov_1r1b200v73().s[5]++;if(err.message==='incorrect password'){cov_1r1b200v73().b[1][0]++;cov_1r1b200v73().s[6]++;errors.message='incorrect password or email';}else{cov_1r1b200v73().b[1][1]++;}// duplicate email error
cov_1r1b200v73().s[7]++;if(err.code===11000){cov_1r1b200v73().b[2][0]++;cov_1r1b200v73().s[8]++;errors.message='that email is already registered';cov_1r1b200v73().s[9]++;return errors;}else{cov_1r1b200v73().b[2][1]++;}// validation errors
cov_1r1b200v73().s[10]++;if(err.message.includes('user validation failed')){cov_1r1b200v73().b[3][0]++;cov_1r1b200v73().s[11]++;// console.log(err);
Object.values(err.errors).forEach(({properties})=>{cov_1r1b200v73().f[1]++;cov_1r1b200v73().s[12]++;// console.log(val);
//  console.log(properties);
errors[properties.path]=properties.message;});}else{cov_1r1b200v73().b[3][1]++;}cov_1r1b200v73().s[13]++;if(err.message.includes('Validation failed')){cov_1r1b200v73().b[4][0]++;cov_1r1b200v73().s[14]++;// console.log(err);
Object.values(err.errors).forEach(({properties})=>{cov_1r1b200v73().f[2]++;cov_1r1b200v73().s[15]++;// console.log(val);
//  console.log(properties);
errors[properties.path]=properties.message;});}else{cov_1r1b200v73().b[4][1]++;}cov_1r1b200v73().s[16]++;return errors;};cov_1r1b200v73().s[17]++;module.exports=handleErrors;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJoYW5kbGVFcnJvcnMiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsImNvZGUiLCJlcnJvcnMiLCJzdGF0dXMiLCJpbmNsdWRlcyIsIk9iamVjdCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wZXJ0aWVzIiwicGF0aCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJlcnJvaGFuZGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY29uc3QgaGFuZGxlRXJyb3JzID0gKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UsIGVyci5jb2RlKTtcclxuICAgIGxldCBlcnJvcnMgPSB7XHJcbiAgICAgIHN0YXR1czogNDAwLCAgICAgICAgICAgICAgIFxyXG4gICAgICB9O1xyXG4gIFxyXG4gICAgLy8gaW5jb3JyZWN0IGVtYWlsXHJcbiAgICBpZiAoZXJyLm1lc3NhZ2UgPT09ICdpbmNvcnJlY3QgZW1haWwnKSB7ICAgICAgXHJcbiAgICAgIGVycm9ycy5tZXNzYWdlID0gJ1RoYXQgZW1haWwgaXMgbm90IHJlZ2lzdGVyZWQnO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLy8gaW5jb3JyZWN0IHBhc3N3b3JkXHJcbiAgICBpZiAoZXJyLm1lc3NhZ2UgPT09ICdpbmNvcnJlY3QgcGFzc3dvcmQnKSB7XHJcbiAgICAgIGVycm9ycy5tZXNzYWdlID0gJ2luY29ycmVjdCBwYXNzd29yZCBvciBlbWFpbCc7XHJcbiAgICB9XHJcbiAgXHJcbiAgICAvLyBkdXBsaWNhdGUgZW1haWwgZXJyb3JcclxuICAgIGlmIChlcnIuY29kZSA9PT0gMTEwMDApIHtcclxuICAgICAgZXJyb3JzLm1lc3NhZ2UgPSAndGhhdCBlbWFpbCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xyXG4gICAgICByZXR1cm4gZXJyb3JzO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLy8gdmFsaWRhdGlvbiBlcnJvcnNcclxuICAgIGlmIChlcnIubWVzc2FnZS5pbmNsdWRlcygndXNlciB2YWxpZGF0aW9uIGZhaWxlZCcpKSB7XHJcbiAgICAgIFxyXG4gICAgICAvLyBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICBPYmplY3QudmFsdWVzKGVyci5lcnJvcnMpLmZvckVhY2goKHsgcHJvcGVydGllcyB9KSA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codmFsKTtcclxuICAgICAgICAvLyAgY29uc29sZS5sb2cocHJvcGVydGllcyk7XHJcbiAgICAgICAgZXJyb3JzW3Byb3BlcnRpZXMucGF0aF0gPSBwcm9wZXJ0aWVzLm1lc3NhZ2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfSAgXHJcbiAgICBpZiAoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ1ZhbGlkYXRpb24gZmFpbGVkJykpIHtcclxuICAgICAgXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIE9iamVjdC52YWx1ZXMoZXJyLmVycm9ycykuZm9yRWFjaCgoeyBwcm9wZXJ0aWVzIH0pID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh2YWwpO1xyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhwcm9wZXJ0aWVzKTtcclxuICAgICAgICBlcnJvcnNbcHJvcGVydGllcy5wYXRoXSA9IHByb3BlcnRpZXMubWVzc2FnZTtcclxuICAgICAgfSk7XHJcbiAgICB9ICBcclxuICAgIHJldHVybiBlcnJvcnM7XHJcbiAgfVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBoYW5kbGVFcnJvcnMgICJdLCJtYXBwaW5ncyI6InNuR0FlWTtBQUFBLG1IQWRaLEtBQU1BLGFBQVksQ0FBSUMsR0FBRyxFQUFLLGlEQUMxQkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFFSCxHQUFHLENBQUNJLElBQUksQ0FBQyxDQUNsQyxHQUFJQyxPQUFNLDBCQUFHLENBQ1hDLE1BQU0sQ0FBRSxHQUNSLENBQUMsRUFFSDtBQUFBLHdCQUNBLEdBQUlOLEdBQUcsQ0FBQ0csT0FBTyxHQUFLLGlCQUFpQixDQUFFLG9EQUNyQ0UsTUFBTSxDQUFDRixPQUFPLENBQUcsOEJBQThCLENBQ2pELENBQUMsaUNBRUQ7QUFBQSx3QkFDQSxHQUFJSCxHQUFHLENBQUNHLE9BQU8sR0FBSyxvQkFBb0IsQ0FBRSxvREFDeENFLE1BQU0sQ0FBQ0YsT0FBTyxDQUFHLDZCQUE2QixDQUNoRCxDQUFDLGlDQUVEO0FBQUEsd0JBQ0EsR0FBSUgsR0FBRyxDQUFDSSxJQUFJLEdBQUssS0FBSyxDQUFFLG9EQUN0QkMsTUFBTSxDQUFDRixPQUFPLENBQUcsa0NBQWtDLENBQUMsd0JBQ3BELE1BQU9FLE9BQU0sQ0FDZixDQUFDLGlDQUVEO0FBQUEseUJBQ0EsR0FBSUwsR0FBRyxDQUFDRyxPQUFPLENBQUNJLFFBQVEsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFFLHFEQUVsRDtBQUNBQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDSyxNQUFNLENBQUMsQ0FBQ0ssT0FBTyxDQUFDLENBQUMsQ0FBRUMsVUFBVyxDQUFDLEdBQUssa0RBQ3BEO0FBQ0E7QUFDQU4sTUFBTSxDQUFDTSxVQUFVLENBQUNDLElBQUksQ0FBQyxDQUFHRCxVQUFVLENBQUNSLE9BQU8sQ0FDOUMsQ0FBQyxDQUFDLENBQ0osQ0FBQywwREFDRCxHQUFJSCxHQUFHLENBQUNHLE9BQU8sQ0FBQ0ksUUFBUSxDQUFDLG1CQUFtQixDQUFDLENBQUUscURBRTdDO0FBQ0FDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDVCxHQUFHLENBQUNLLE1BQU0sQ0FBQyxDQUFDSyxPQUFPLENBQUMsQ0FBQyxDQUFFQyxVQUFXLENBQUMsR0FBSyxrREFDcEQ7QUFDQTtBQUNBTixNQUFNLENBQUNNLFVBQVUsQ0FBQ0MsSUFBSSxDQUFDLENBQUdELFVBQVUsQ0FBQ1IsT0FBTyxDQUM5QyxDQUFDLENBQUMsQ0FDSixDQUFDLDBEQUNELE1BQU9FLE9BQU0sQ0FDZixDQUFDLDBCQUVIUSxNQUFNLENBQUNDLE9BQU8sQ0FBR2YsWUFBWSJ9