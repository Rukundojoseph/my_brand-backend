function cov_1o8fwilqhi(){var path="C:\\Users\\Acer\\Desktop\\node Tutorial\\auth\\controllers\\authController.js";var hash="0ad5fe344c5e9833bfbe5d8a9546b48a986ce1d6";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Acer\\Desktop\\node Tutorial\\auth\\controllers\\authController.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:38}},"1":{start:{line:2,column:12},end:{line:2,column:35}},"2":{start:{line:3,column:21},end:{line:3,column:45}},"3":{start:{line:7,column:15},end:{line:7,column:31}},"4":{start:{line:8,column:20},end:{line:12,column:1}},"5":{start:{line:9,column:2},end:{line:11,column:5}},"6":{start:{line:15,column:0},end:{line:17,column:1}},"7":{start:{line:16,column:2},end:{line:16,column:23}},"8":{start:{line:19,column:0},end:{line:21,column:1}},"9":{start:{line:20,column:2},end:{line:20,column:22}},"10":{start:{line:23,column:0},end:{line:37,column:1}},"11":{start:{line:24,column:30},end:{line:24,column:38}},"12":{start:{line:26,column:2},end:{line:35,column:3}},"13":{start:{line:27,column:17},end:{line:27,column:55}},"14":{start:{line:28,column:18},end:{line:28,column:39}},"15":{start:{line:29,column:4},end:{line:29,column:74}},"16":{start:{line:30,column:4},end:{line:30,column:57}},"17":{start:{line:33,column:19},end:{line:33,column:36}},"18":{start:{line:34,column:4},end:{line:34,column:37}},"19":{start:{line:39,column:0},end:{line:54,column:1}},"20":{start:{line:40,column:30},end:{line:40,column:38}},"21":{start:{line:42,column:2},end:{line:52,column:3}},"22":{start:{line:43,column:17},end:{line:43,column:50}},"23":{start:{line:44,column:18},end:{line:44,column:39}},"24":{start:{line:45,column:4},end:{line:45,column:74}},"25":{start:{line:46,column:4},end:{line:46,column:62}},"26":{start:{line:50,column:19},end:{line:50,column:36}},"27":{start:{line:51,column:4},end:{line:51,column:37}},"28":{start:{line:55,column:0},end:{line:60,column:1}},"29":{start:{line:56,column:2},end:{line:56,column:41}},"30":{start:{line:57,column:2},end:{line:59,column:39}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:20},end:{line:8,column:21}},loc:{start:{line:8,column:28},end:{line:12,column:1}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:28},end:{line:15,column:29}},loc:{start:{line:15,column:42},end:{line:17,column:1}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:19,column:27},end:{line:19,column:28}},loc:{start:{line:19,column:41},end:{line:21,column:1}},line:19},"3":{name:"(anonymous_3)",decl:{start:{line:23,column:29},end:{line:23,column:30}},loc:{start:{line:23,column:49},end:{line:37,column:1}},line:23},"4":{name:"(anonymous_4)",decl:{start:{line:39,column:28},end:{line:39,column:29}},loc:{start:{line:39,column:48},end:{line:54,column:1}},line:39},"5":{name:"(anonymous_5)",decl:{start:{line:55,column:28},end:{line:55,column:29}},loc:{start:{line:55,column:42},end:{line:60,column:1}},line:55}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0ad5fe344c5e9833bfbe5d8a9546b48a986ce1d6"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1o8fwilqhi=function(){return actualCoverage;};}return actualCoverage;}cov_1o8fwilqhi();const User=(cov_1o8fwilqhi().s[0]++,require("../models/User"));const jwt=(cov_1o8fwilqhi().s[1]++,require('jsonwebtoken'));const handleErrors=(cov_1o8fwilqhi().s[2]++,require('./errohandler'));// create json web token
const maxAge=(cov_1o8fwilqhi().s[3]++,3*24*60*60);cov_1o8fwilqhi().s[4]++;const createToken=id=>{cov_1o8fwilqhi().f[0]++;cov_1o8fwilqhi().s[5]++;return jwt.sign({id},'my name is joseph',{expiresIn:maxAge});};// controller actions
cov_1o8fwilqhi().s[6]++;module.exports.signup_get=(req,res)=>{cov_1o8fwilqhi().f[1]++;cov_1o8fwilqhi().s[7]++;res.render('signup');};cov_1o8fwilqhi().s[8]++;module.exports.login_get=(req,res)=>{cov_1o8fwilqhi().f[2]++;cov_1o8fwilqhi().s[9]++;res.render('login');};cov_1o8fwilqhi().s[10]++;module.exports.signup_post=async(req,res)=>{cov_1o8fwilqhi().f[3]++;const{email,password}=(cov_1o8fwilqhi().s[11]++,req.body);cov_1o8fwilqhi().s[12]++;try{const user=(cov_1o8fwilqhi().s[13]++,await User.create({email,password}));const token=(cov_1o8fwilqhi().s[14]++,createToken(user._id));cov_1o8fwilqhi().s[15]++;res.cookie('token',token,{httpOnly:true,maxAge:maxAge*1000});cov_1o8fwilqhi().s[16]++;res.status(201).json({user:user._id,jwt:token});}catch(err){const errors=(cov_1o8fwilqhi().s[17]++,handleErrors(err));cov_1o8fwilqhi().s[18]++;res.status(400).json({errors});}};cov_1o8fwilqhi().s[19]++;module.exports.login_post=async(req,res)=>{cov_1o8fwilqhi().f[4]++;const{email,password}=(cov_1o8fwilqhi().s[20]++,req.body);cov_1o8fwilqhi().s[21]++;try{const user=(cov_1o8fwilqhi().s[22]++,await User.login(email,password));const token=(cov_1o8fwilqhi().s[23]++,createToken(user._id));cov_1o8fwilqhi().s[24]++;res.cookie('token',token,{httpOnly:true,maxAge:maxAge*1000});cov_1o8fwilqhi().s[25]++;res.status(200).json({userID:user._id,token:token});}catch(err){const errors=(cov_1o8fwilqhi().s[26]++,handleErrors(err));cov_1o8fwilqhi().s[27]++;res.status(400).json({errors});}};cov_1o8fwilqhi().s[28]++;module.exports.logout_get=(req,res)=>{cov_1o8fwilqhi().f[5]++;cov_1o8fwilqhi().s[29]++;res.cookie('token','',{maxAge:1});cov_1o8fwilqhi().s[30]++;res.status(200).json({statusCode:200,message:'logged out succefully'});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImp3dCIsImhhbmRsZUVycm9ycyIsIm1heEFnZSIsImNyZWF0ZVRva2VuIiwiaWQiLCJzaWduIiwiZXhwaXJlc0luIiwibW9kdWxlIiwiZXhwb3J0cyIsInNpZ251cF9nZXQiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJsb2dpbl9nZXQiLCJzaWdudXBfcG9zdCIsImVtYWlsIiwicGFzc3dvcmQiLCJib2R5IiwidXNlciIsImNyZWF0ZSIsInRva2VuIiwiX2lkIiwiY29va2llIiwiaHR0cE9ubHkiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwiZXJyb3JzIiwibG9naW5fcG9zdCIsImxvZ2luIiwidXNlcklEIiwibG9nb3V0X2dldCIsInN0YXR1c0NvZGUiLCJtZXNzYWdlIl0sInNvdXJjZXMiOlsiYXV0aENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVXNlciA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvVXNlclwiKTtcbmNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xuY29uc3QgaGFuZGxlRXJyb3JzID0gcmVxdWlyZSgnLi9lcnJvaGFuZGxlcicpXG5cblxuLy8gY3JlYXRlIGpzb24gd2ViIHRva2VuXG5jb25zdCBtYXhBZ2UgPSAzICogMjQgKiA2MCAqIDYwO1xuY29uc3QgY3JlYXRlVG9rZW4gPSAoaWQpID0+IHtcbiAgcmV0dXJuIGp3dC5zaWduKHsgaWQgfSwgJ215IG5hbWUgaXMgam9zZXBoJywge1xuICAgIGV4cGlyZXNJbjogbWF4QWdlXG4gIH0pO1xufTtcblxuLy8gY29udHJvbGxlciBhY3Rpb25zXG5tb2R1bGUuZXhwb3J0cy5zaWdudXBfZ2V0ID0gKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5yZW5kZXIoJ3NpZ251cCcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5sb2dpbl9nZXQgPSAocmVxLCByZXMpID0+IHtcbiAgcmVzLnJlbmRlcignbG9naW4nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMuc2lnbnVwX3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuY3JlYXRlKHsgZW1haWwsIHBhc3N3b3JkIH0pO1xuICAgIGNvbnN0IHRva2VuID0gY3JlYXRlVG9rZW4odXNlci5faWQpO1xuICAgIHJlcy5jb29raWUoJ3Rva2VuJywgdG9rZW4sIHsgaHR0cE9ubHk6IHRydWUsIG1heEFnZTogbWF4QWdlICogMTAwMCB9KTtcbiAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IHVzZXI6IHVzZXIuX2lkLCBqd3Q6IHRva2VuIH0pO1xuICB9XG4gIGNhdGNoKGVycikge1xuICAgIGNvbnN0IGVycm9ycyA9IGhhbmRsZUVycm9ycyhlcnIpO1xuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3JzIH0pO1xuICB9XG4gXG59XG5cbm1vZHVsZS5leHBvcnRzLmxvZ2luX3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIubG9naW4oZW1haWwsIHBhc3N3b3JkKTtcbiAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZVRva2VuKHVzZXIuX2lkKTtcbiAgICByZXMuY29va2llKCd0b2tlbicsIHRva2VuLCB7IGh0dHBPbmx5OiB0cnVlLCBtYXhBZ2U6IG1heEFnZSAqIDEwMDAgfSk7ICAgXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VySUQ6IHVzZXIuX2lkLCB0b2tlbjogdG9rZW4gIH0pO1xuICAgIFxuICB9IFxuICBjYXRjaCAoZXJyKSB7XG4gICAgY29uc3QgZXJyb3JzID0gaGFuZGxlRXJyb3JzKGVycik7XG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcnMgfSk7XG4gIH1cblxufVxubW9kdWxlLmV4cG9ydHMubG9nb3V0X2dldCA9IChyZXEsIHJlcykgPT4ge1xuICByZXMuY29va2llKCd0b2tlbicsICcnLCB7IG1heEFnZTogMSB9KTtcbiAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICBtZXNzYWdlOiAnbG9nZ2VkIG91dCBzdWNjZWZ1bGx5J30pO1xufVxuXG4iXSwibWFwcGluZ3MiOiIrNUdBZVk7QUFBQSwyRkFmWixLQUFNQSxLQUFJLDBCQUFHQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsRUFDdEMsS0FBTUMsSUFBRywwQkFBR0QsT0FBTyxDQUFDLGNBQWMsQ0FBQyxFQUNuQyxLQUFNRSxhQUFZLDBCQUFHRixPQUFPLENBQUMsZUFBZSxDQUFDLEVBRzdDO0FBQ0EsS0FBTUcsT0FBTSwwQkFBRyxDQUFDLENBQUcsRUFBRSxDQUFHLEVBQUUsQ0FBRyxFQUFFLEVBQUMsd0JBQ2hDLEtBQU1DLFlBQVcsQ0FBSUMsRUFBRSxFQUFLLGlEQUMxQixNQUFPSixJQUFHLENBQUNLLElBQUksQ0FBQyxDQUFFRCxFQUFHLENBQUMsQ0FBRSxtQkFBbUIsQ0FBRSxDQUMzQ0UsU0FBUyxDQUFFSixNQUNiLENBQUMsQ0FBQyxDQUNKLENBQUMsQ0FFRDtBQUFBLHdCQUNBSyxNQUFNLENBQUNDLE9BQU8sQ0FBQ0MsVUFBVSxDQUFHLENBQUNDLEdBQUcsQ0FBRUMsR0FBRyxHQUFLLGlEQUN4Q0EsR0FBRyxDQUFDQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQ3RCLENBQUMseUJBRURMLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDSyxTQUFTLENBQUcsQ0FBQ0gsR0FBRyxDQUFFQyxHQUFHLEdBQUssaURBQ3ZDQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FDckIsQ0FBQywwQkFFREwsTUFBTSxDQUFDQyxPQUFPLENBQUNNLFdBQVcsQ0FBRyxNQUFPSixHQUFHLENBQUVDLEdBQUcsR0FBSyx5QkFDL0MsS0FBTSxDQUFFSSxLQUFLLENBQUVDLFFBQVMsQ0FB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